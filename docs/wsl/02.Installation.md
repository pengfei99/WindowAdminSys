# Installation

To install WSL on Windows Server, the process depends on the version of Windows Server you're using. 
**WSL 2 is officially supported on Windows Server 2022 and partially on Windows Server 2019 (with manual setup)**. 

In this tutorial, we only show how to install it in `Windows Server 2022`
Below are steps for installation.


## 1.Prepare required features

If you are trying to install wsl on a VM hosted by Hyper-v, you need to enable `Nested Virtualization in Hyper-V`.

**On the host**, open a PowerShell as Administrator:

```shell
Set-VMProcessor -VMName "MyWindowsServerVM" -ExposeVirtualizationExtensions $true
```


**On the guest**, open PowerShell as Administrator:

```shell
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

# set wsl 2 as default version
wsl --set-default-version 2
```

> The below steps are all run on the guest server (VM).

## 2. Restart the guest server

```shell
Restart-Computer
```

## 3. Install WSL and default distro


```shell
# The default distro is Ubuntu.
# with the below command, windows will install wsl and default distro(Latest Ubuntu LTS by default)
wsl --install
```

## 4. Show existing vm

```shell
# the compelte version
wsl --list --verbose

# the short version
wsl -l -v

# expected output

  NAME      STATE           VERSION
* Ubuntu    Running         2
```

## 5. Force to use only wsl 2

```shell
wsl --set-default-version 2  # Only if WSL 2 supported
```

## 6. Install Debian via WSL




